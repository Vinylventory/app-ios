query GetVinyls {
    vinyls {
        idVinyl
        catNumber
    }
}

query GetVinyl($idVinyl: String!) {
	vinyl(where: { idVinyl: $idVinyl }) {
		idVinyl
		catNumber
		dateCreated
		dateReleased
		dateEdited
		notePocket
		pressingLoc
		edition
		weight
		rank
		notes
		playedBy {
			artist {
				idArtist
				surname
				name
				origin
			}
		}
		authored {
			artist {
				idArtist
				surname
				name
				origin
			}
		}
		credits {
			idCredit
			role
			note
			artist {
				idArtist
				surname
				name
				origin
			}
		}
		album {
			idAlbum
			name
		}
		label {
			idLabel
			name
		}
		tracks {
			idTrack
			name
			duration
		}
		bought {
			idBought
			loc
			date
			price
			note
		}
		pocketState {
			idPocketState
			name
		}
		state {
			idState
			name
		}
		readSpeed {
			idReadSpeed
			speed
		}
		images {
			idImage
			path
		}
	}
}

mutation CreateVinyl(
	$catNumber: String!
	$dateReleased: DateTimeISO
	$dateEdited: DateTimeISO
	$notePocket: String
	$pressingLoc: String
	$edition: String
	$weight: Int
	$rank: Int
	$notes: String
	$playedBys: [PlayedByCreateWithoutVinylInput!]
	$authoreds: [AuthoredCreateWithoutVinylInput!]
	$credits: [CreditCreateWithoutVinylInput!]
	$album: AlbumCreateNestedOneWithoutVinylsInput
	$label: LabelCreateNestedOneWithoutVinylsInput
	$tracks: [TrackCreateManyVinylInput!]!
	$bought: BoughtCreateNestedOneWithoutVinylsInput
	$pocketState: String
	$state: String
	$readSpeed: String
) {
	createOneVinyl(data: {
		catNumber: $catNumber
		dateReleased: $dateReleased
		dateEdited: $dateEdited
		notePocket: $notePocket
		pressingLoc: $pressingLoc
		edition: $edition
		weight: $weight
		rank: $rank
		notes: $notes
		playedBy: {
			create: $playedBys
		}
		authored: {
			create: $authoreds
		}
		credits: {
			create: $credits
		}
		album: $album
		label: $label
		tracks: {
			createMany: {
				data: $tracks
			}
		}
		bought: $bought
		pocketState: {
			connect: {
				name: $pocketState
			}
		}
		state: {
			connect: {
				name: $state
			}
		}
		readSpeed: {
			connect: {
				speed: $readSpeed
			}
		}
	}) {
		idVinyl
	}
}

query GetArtists {
	artists {
		surname
		name
		origin
	}
}

query GetPocketStates {
	pocketStates {
		name
	}
}

query GetStates {
	states {
		name
	}
}

query GetReadSpeed {
	readSpeeds {
		speed
	}
}
